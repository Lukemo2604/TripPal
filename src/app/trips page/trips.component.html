<!-- trips.component.html -->

<div class="trip-list-container">
  <h2>My Trips</h2>

  <!-- Top bar with "Create Trip" button + filter -->
  <div class="trip-list-topbar">
    <button class="primary-btn" (click)="openCreateTripModal()">Create Trip</button>
    <input [(ngModel)]="filterText" placeholder="Filter trips..." />
  </div>

  <!-- The list of trips -->
  <div class="trip-list">
    <div
      class="trip-card"
      *ngFor="let trip of filteredTrips"
      (click)="goToTrip(trip._id)"
    >
      <h3>{{ trip.location }}</h3>
      <p>{{ trip.startDate }} - {{ trip.endDate }}</p>
      <!-- Possibly show more info like flights, accommodation -->
    </div>
  </div>

  <!-- Create Trip Modal (only shows if showCreateModal is true) -->
  <div class="modal" *ngIf="showCreateModal">
    <div class="modal-content">
      <h3>Create a new trip</h3>

      <!-- Optionally wrap the form in a .form-container if you like that style -->
      <div class="form-container">
        <form (ngSubmit)="submitCreateTrip()">
          <label>
            Location:
            <input
              [(ngModel)]="newTrip.location"
              name="location"
              placeholder="Location"
              required
            />
          </label>

          <label>
            Start Date:
            <input [(ngModel)]="newTrip.startDate" name="startDate" type="date" />
          </label>

          <label>
            End Date:
            <input [(ngModel)]="newTrip.endDate" name="endDate" type="date" />
          </label>

          <label>
            Flights:
            <input [(ngModel)]="newTrip.flights" name="flights" placeholder="Flights" />
          </label>

          <label>
            Accommodation:
            <input
              [(ngModel)]="newTrip.accommodation"
              name="accommodation"
              placeholder="Accommodation"
            />
          </label>

          <!-- etc. familyAttending can be empty for now, user will set in detail page? -->
          <div class="button-row">
            <button class="primary-btn" type="submit">Create</button>
            <button
              class="secondary-btn"
              (click)="closeCreateTripModal()"
              type="button"
            >
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<support></support>
